## user
### ニックネーム
9文字
各ユーザーは、**最大長さ9文字**の一意のニックネームで他のユーザーと区別されます。
 - ニックネームの最大長は9文字です。
ニックネームで使用される可能性のあるものとできないものについては、プロトコル文法規則（セクション3.3.1）を参照してください。
ニックネームに加えて、すべてのサーバーには、すべてのユーザーに関する次の情報が必要です。
ユーザーが実行しているホストの名前、そのホストのユーザーのユーザー名、およびクライアントが接続されているサーバーです。

### 各ユーザーが持っておくべきデータ
  ユーザーが実行しているホストの名前
  そのホストのユーザーのユーザー名
  およびクライアントが接続されているサーバー

- 3.3.1
	プロトコルメッセージは、オクテットの連続的なストリームから抽出する必要があります。現在の解決策は、メッセージセパレーターとして2つの文字、CRとLFを指定することです。空のメッセージは静かに無視されているため、追加の問題なくメッセージ間でシーケンスCR-LFを使用できます。
	抽出されたメッセージは、コンポーネント<プレフィックス>、<コマンド>、およびパラメーターのリスト（<params>）に解析されます。
	このための拡張BNF表現は、「IRCクライアントプロトコル」[IRC-Client]にあります。
	拡張プレフィックス（["！" user "@" host]）は、サーバー通信にサーバーに使用されてはならず、クライアントからクライアントへのメッセージのみを目的としているため、クライアントにメッセージが誰であるかについてのより有用な情報をクライアントに提供するためには、追加のクエリが必要です。

## server
- 63文字
- ホストマスク？
  - 名前に応じてサーバーをグループ化するために「ホストマスク」を定義することができます。

	サーバーは、**最大63文字**（63）の文字を持つ名前で一意に識別されます。サーバー名で使用される可能性のあるもの、および使用されないものについては、プロトコル文法ルール（セクション3.3.1）を参照してください。

## messages
- serverとclientは返信を生成する場合と生成しない場合がある。
- 各IRCメッセージは**prefix(optional)**, **コマンド**及び**コマンドパラメーター(最大15)**
    - 全てはスペースで区切られる
    - prefixは`;`から始まり、続く文字との間にスペースなし、絶対に最初でなくてはならない, serverによってのみ使われる
- IRCメッセージはCR-LF（キャリッジリターン - ラインフィード）ペアで終了した行で構成されます。
- 各IRCメッセージは512文字以内でなければなりません（Trailing CR-LFを含むすべての文字をカウントします）。
- コマンドとそのパラメーターの合計長は最大510文字まで許容されます。
- メッセージを複数行に分割する際の特定の規定は存在しません。
- 詳細な実装については、セクション5を参照してください。

### others
  - IRCのスカンジナビア起源のため、キャラクター{} |^は、それぞれ文字[] \〜の小文字と同等であると考えられています。
    - `{}|^ == []\〜`
 
You must be able to authenticate, set a nickname, a username, join a channel, send and receive private messages using your reference client.
- [ ] authenticate
- [ ] nickname
- [ ] username
- [ ] channel
- [ ] send and receive private messages using your reference client


### IRCサーバ側:

1. **ソケットの作成**:
   - IRCサーバはソケットを作成し、クライアントとの通信のためのソケットディスクリプタを取得します。

2. **IPアドレスとポート番号の設定**:
   - サーバは特定のIPアドレスとポート番号を選択し、通信用に設定します。IRCサーバは通常、TCPポート6667などの特定のポートを使用します。

3. **ソケットに名前をつける**:
   - IRCサーバは`bind()`関数を使用して、選択したポートで待ち受け可能な状態にソケットを設定します。

4. **クライアントの接続待ち**:
   - IRCサーバは`listen()`関数を呼び出し、クライアントからの接続要求を待ちます。

5. **クライアントの接続受付**:
   - `accept()`関数によって新しいクライアントの接続を受け入れ、新しいソケットを生成します。これにより、新たなクライアントとの通信用のソケットが確立されます。

6. **IRCプロトコルに基づく通信**:
   - 接続されたクライアントとの間で、IRCプロトコルに基づいたメッセージの受け渡しが行われます。これにはチャットメッセージの送受信やコマンドの処理などが含まれます。

7. **クライアントとの通信終了**:
   - クライアントが切断したり、通信が終了した場合には、各クライアントとの通信用ソケットを閉じます。

8. **終了処理**:
   - 全てのクライアントが切断された場合、サーバはそのセッションを終了し、ソケットを閉じてリソースを解放します。

IRCサーバは、複数のクライアントとの同時接続を管理し、チャットメッセージやコマンドを中継・処理する役割を果たします。クライアントからの接続を受け入れ、適切な処理を行いながら、リアルタイムなコミュニケーションを可能にします。


- [RFC 1459 - IRC protocol](https://datatracker.ietf.org/doc/html/rfc1459)
- [RFC 2810 IRC Architecture](https://datatracker.ietf.org/doc/html/rfc2810)
- [RFC 2811](https://datatracker.ietf.org/doc/html/rfc2811)
- [RFC 2812](https://datatracker.ietf.org/doc/html/rfc2812)
- [RFC 2813](https://datatracker.ietf.org/doc/html/rfc2813)
